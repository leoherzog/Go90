<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
  <title>The Go90 Scale of Doomed Streaming Services</title>
  <script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@next/css/pico.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@next/css/pico.colors.min.css">
  <style>
    #chart {
      width: 100%;
      height: 100%;
    }

  </style>
</head>

<body>

  <h1>The Go90 Scale of Doomed Streaming Services</h1>
  <article>
    <figure id="chart"></figure>
  </article>
  
  <script>
    const width = 800;
    const height = 800;
    const padding = 20;
    const effectiveRadius = Math.min(width, height) / 2 - padding;
    const radius = effectiveRadius;

    function load() {

      const svg = d3.select('#chart')
        .append('svg')
        .attr('viewBox', [0, 0, width / 2 + padding, height / 2 + padding].join(' '))
        .attr('preserveAspectRatio', 'xMidYMid meet')
        .style('width', '100%')
        .style('height', 'auto')
        .style('max-width', '600px');

      const arc = d3.arc()
        .innerRadius(0)
        .outerRadius(radius)
        .startAngle(-Math.PI / 2)
        .endAngle(0);

      svg.append('path')
        .attr('d', arc)
        .attr('transform', 'translate(' + (padding + radius) + ', ' + (padding + radius) + ')')
        .attr('fill', 'lightblue');

      const data = [10, 30, 50, 70, 90];
      data.forEach(d => {
        const angle = (d / 90) * (Math.PI / 2) - Math.PI / 2;
        const x = padding + radius + (radius * Math.sin(angle));
        const y = padding + radius - (radius * Math.cos(angle));

        svg.append('circle')
          .attr('cx', x)
          .attr('cy', y)
          .attr('r', 5)
          .attr('fill', 'red');
      });
    }

    document.addEventListener('DOMContentLoaded', load);
  </script>
</body>

</html>
